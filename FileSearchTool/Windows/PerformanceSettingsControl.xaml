<UserControl x:Class="FileSearchTool.Windows.PerformanceSettingsControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <StackPanel Margin="25">
        <TextBlock Text="性能设置" 
                   FontSize="18" 
                   FontWeight="Bold" 
                   Margin="0,0,0,8"/>
        
        <TextBlock Text="调整索引性能参数以优化系统资源使用" 
                   Foreground="Gray" 
                   FontSize="13"
                   Margin="0,0,0,20"/>

        <!-- CPU核心数设置 -->
        <Border BorderBrush="#E0E0E0" 
                BorderThickness="1" 
                CornerRadius="4" 
                Padding="20" 
                Margin="0,0,0,20"
                Background="#FFFFFF">
            <StackPanel>
                <TextBlock Text="CPU核心数配置" 
                           FontSize="16" 
                           FontWeight="Bold" 
                           Margin="0,0,0,10"/>
                
                <TextBlock Text="控制索引时使用的CPU核心数量，提高数值可加快索引速度，但会占用更多系统资源" 
                           TextWrapping="Wrap" 
                           Foreground="Gray" 
                           FontSize="13"
                           Margin="0,0,0,15"/>

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- 当前CPU核心数 -->
                    <TextBlock Grid.Row="0" Grid.Column="0" 
                               Text="系统CPU核心数：" 
                               VerticalAlignment="Center" 
                               FontSize="13"
                               Margin="0,0,0,15"/>
                    <TextBlock Grid.Row="0" Grid.Column="1" 
                               x:Name="TotalCoresTextBlock" 
                               Text="8" 
                               FontWeight="Bold" 
                               VerticalAlignment="Center" 
                               FontSize="13"
                               Margin="0,0,0,15"/>

                    <!-- 使用的核心数 -->
                    <TextBlock Grid.Row="1" Grid.Column="0" 
                               Text="索引使用核心数：" 
                               VerticalAlignment="Center" 
                               FontSize="13"
                               Margin="0,0,0,15"/>
                    <StackPanel Grid.Row="1" Grid.Column="1" 
                                Orientation="Horizontal" 
                                Margin="0,0,0,15">
                        <Slider x:Name="CoresSlider" 
                                Width="300" 
                                Minimum="1" 
                                Maximum="16" 
                                Value="4" 
                                TickFrequency="1" 
                                IsSnapToTickEnabled="True"
                                VerticalAlignment="Center"
                                Height="20"/>
                        <TextBlock x:Name="CoresValueTextBlock" 
                                   Text="4" 
                                   FontWeight="Bold" 
                                   FontSize="14" 
                                   Margin="15,0,5,0" 
                                   VerticalAlignment="Center"/>
                        <TextBlock Text="核心" 
                                   FontSize="13"
                                   Margin="0,0,0,0" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- 使用百分比 -->
                    <TextBlock Grid.Row="2" Grid.Column="0" 
                               Text="使用比例：" 
                               VerticalAlignment="Center"
                               FontSize="13"/>
                    <TextBlock Grid.Row="2" Grid.Column="1" 
                               x:Name="PercentageTextBlock" 
                               Text="50%" 
                               FontWeight="Bold" 
                               Foreground="#0078D7" 
                               VerticalAlignment="Center"
                               FontSize="13"/>
                </Grid>

                <!-- 保存按钮 -->
                <Button x:Name="SaveButton" 
                        Content="保存设置" 
                        Width="100" 
                        Height="32" 
                        Margin="0,20,0,0"
                        HorizontalAlignment="Left"
                        Click="SaveButton_Click"
                        FontSize="13"/>
            </StackPanel>
        </Border>

        <!-- 其他性能提示 -->
        <Border BorderBrush="#C0D8F0" 
                BorderThickness="1" 
                CornerRadius="4" 
                Padding="15" 
                Background="#F0F8FF">
            <StackPanel>
                <TextBlock Text="💡 性能建议" 
                           FontWeight="Bold" 
                           Foreground="#1976D2" 
                           FontSize="13"
                           Margin="0,0,0,8"/>
                <TextBlock TextWrapping="Wrap" 
                           Foreground="#1976D2"
                           FontSize="12">
                    • 推荐使用50%的CPU核心数以平衡性能和系统响应&#10;
                    • 如需加快索引速度，可适当提高核心数&#10;
                    • 修改设置后，下次建立索引时生效
                </TextBlock>
            </StackPanel>
        </Border>
    </StackPanel>
</UserControl>